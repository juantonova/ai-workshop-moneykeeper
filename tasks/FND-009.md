# FND-009 — Stage security review: CI and package publishing hardening

## Что сделано

- Проведен security review workflow-ов:
  - `.github/workflows/ci.yml`
  - `.github/workflows/reusable-ci.yml`
  - `.github/workflows/contracts-publish.yml`
- Применен принцип least privilege:
  - `ci` / `reusable-ci`: только `contents: read`
  - `contracts-publish`: верхний `permissions: {}`, job-level только `contents: read` + `packages: write`
- Усилена устойчивость publish-пайплайна:
  - добавлен `concurrency`
  - добавлены `timeout-minutes`
  - checkout с `persist-credentials: false` и `fetch-depth: 1`
  - lockfile-check после install
- Добавлен security checklist:
  - `docs/security/ci-packages-hardening-checklist.md`
- Задача отмечена выполненной в `BACKLOG.md`.

## Верификация

- `pnpm quality`

Ожидаемый результат: quality gates зеленые, workflows используют минимально необходимые права и зафиксированный checklist.

## ADR

- [ADR-0009: CI / package publishing hardening по принципу least privilege](../ADR/ADR-0009-ci-packages-least-privilege.md)
