# FND-003 — Set up contracts pipeline from OpenAPI

## Что сделано

- В `api` добавлена генерация OpenAPI:
  - скрипт `api/scripts/generate-openapi.js`
  - артефакт `api/openapi/openapi.json`
- Добавлен пакет `contracts` c именем `@expense/contracts`:
  - генерация TS fetch-клиента из OpenAPI (`openapi-typescript-codegen`)
  - сборка TypeScript в `dist`
  - semver policy и changelog в пакете
- Подключены потребители контракта:
  - `ui/package.json` -> `@expense/contracts: workspace:*`
  - `bot/package.json` -> `@expense/contracts: workspace:*`
- Добавлен CI pipeline публикации:
  - `.github/workflows/contracts-publish.yml`
  - запуск по изменениям API/contracts
  - генерация и публикация `@expense/contracts` в GitHub Packages

## Верификация

- `pnpm install --no-frozen-lockfile`
- `pnpm --filter @moneykeeper/api run generate:openapi`
- `pnpm --filter @expense/contracts run build`
- `pnpm quality`

Ожидаемый результат: OpenAPI и клиент генерируются, workspace quality gates зелёные.

## ADR

- [ADR-0003: OpenAPI -> contracts pipeline для `@expense/contracts`](../ADR/ADR-0003-openapi-contracts-pipeline.md)
